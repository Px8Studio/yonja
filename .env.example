# ALIM AI Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════════
# Copy this file to .env and customize values
# All variables use ALIM_ prefix for consistency across all services
# ═══════════════════════════════════════════════════════════════════════════════

# ===========================================
# Deployment (Two-Axis Model)
# ===========================================
# Axis 1: Environment — WHAT stage of development
ALIM_ENVIRONMENT=development  # development | staging | production

# Axis 2: Infrastructure Mode — WHERE it runs
ALIM_INFRASTRUCTURE_MODE=local  # local | cloud

# Debug mode (auto-enabled in ALIM_ENVIRONMENT=development)
ALIM_DEBUG=true

# ===========================================
# LangGraph Server (REQUIRED - HTTP-Only Architecture)
# ===========================================
# All agent traffic goes through LangGraph Server
# Server handles checkpointing, threading, state management
ALIM_LANGGRAPH_REQUIRED=true
ALIM_LANGGRAPH_BASE_URL=http://localhost:2024
ALIM_LANGGRAPH_GRAPH_ID=alim_agent

# ===========================================
# API Settings
# ===========================================
ALIM_API_HOST=0.0.0.0
ALIM_API_PORT=8000
ALIM_API_WORKERS=4
ALIM_CORS_ORIGINS=["http://localhost:3000", "http://localhost:8501"]

# ===========================================
# LLM Provider Configuration
# ===========================================
# Choose: ollama (local), groq (cloud/fast), vllm (self-hosted)
ALIM_LLM_PROVIDER=ollama

# Ollama (Local LLM)
ALIM_OLLAMA_BASE_URL=http://localhost:11434
ALIM_OLLAMA_MODEL=qwen3:4b

# Groq (Cloud) - Free Tier: https://console.groq.com/
ALIM_GROQ_API_KEY=
ALIM_GROQ_MODEL=meta-llama/llama-4-maverick-17b-128e-instruct

# vLLM (DigiRella Cloud / Self-Hosted)
ALIM_VLLM_BASE_URL=
ALIM_VLLM_MODEL=meta-llama/llama-4-maverick-17b-128e-instruct

# ===========================================
# Database (PostgreSQL)
# ===========================================
ALIM_DATABASE_URL=postgresql+asyncpg://alim:alim_dev_password@localhost:5433/alim
ALIM_DATABASE_POOL_SIZE=10
ALIM_DATABASE_MAX_OVERFLOW=20

# Chainlit-specific (defaults to ALIM_DATABASE_URL if not set)
CHAINLIT_DATABASE_URL=

# ===========================================
# Redis (Caching & Sessions)
# ===========================================
ALIM_REDIS_URL=redis://localhost:6379/0
ALIM_REDIS_MAX_CONNECTIONS=50

# ===========================================
# Security
# ===========================================
ALIM_JWT_SECRET=dev-secret-change-in-production
ALIM_JWT_ALGORITHM=HS256
ALIM_JWT_EXPIRY_HOURS=24
ALIM_API_KEY_SECRET=dev-api-key-change-in-production

# ===========================================
# Rate Limiting
# ===========================================
ALIM_RATE_LIMIT_REQUESTS_PER_MINUTE=30
ALIM_RATE_LIMIT_BURST=50

# ===========================================
# Observability & Logging
# ===========================================
ALIM_LOG_LEVEL=INFO
ALIM_LOG_FORMAT=json  # json | console
ALIM_PROMETHEUS_ENABLED=true

# ===========================================
# Langfuse (Self-Hosted LLM Observability)
# ===========================================
# Dashboard: http://localhost:3001
# Get keys from Langfuse UI → Settings → API Keys
ALIM_LANGFUSE_ENABLED=true
ALIM_LANGFUSE_HOST=http://localhost:3001
ALIM_LANGFUSE_SECRET_KEY=
ALIM_LANGFUSE_PUBLIC_KEY=
ALIM_LANGFUSE_SAMPLE_RATE=1.0
ALIM_LANGFUSE_DEBUG=false

# ===========================================
# Google OAuth (for Demo UI login)
# ===========================================
# 1. Go to https://console.developers.google.com/apis/credentials
# 2. Create OAuth 2.0 Client ID (Web application)
# 3. Add redirect URI: http://localhost:8501/auth/oauth/google/callback
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=

# Chainlit session security
CHAINLIT_AUTH_SECRET=generate-with-python-secrets-token_urlsafe-32

# OAuth behavior: none (silent), login (force), consent, select_account
OAUTH_GOOGLE_PROMPT=none

# ===========================================
# Demo UI Feature Flags
# ===========================================
ENABLE_DATA_PERSISTENCE=true
ENABLE_FEEDBACK=true
ENABLE_FARM_SELECTOR=true
ENABLE_WEATHER_WIDGET=true
ENABLE_THINKING_STEPS=true

# ===========================================
# App Metadata
# ===========================================
ALIM_APP_NAME=ALEM
ALIM_APP_VERSION=0.1.0
ALIM_DEFAULT_LANGUAGE=az
