{
    "version": "2.0.0",
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸŒ¾ YONCA AI â€” Task Configuration
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // 
    // QUICK REFERENCE:
    //   ğŸš€ Start:  "ğŸŒ¾ Yonca AI: ğŸš€ Start All" â€” Docker + Langfuse + API + Demo UI + Swagger (one click)
    //   ğŸ›‘ Stop:   "ğŸŒ¾ Yonca AI: ğŸ›‘ Stop All" â€” Stops everything cleanly
    //   ğŸ§ª Test:   "ğŸŒ¾ Yonca AI: ğŸ§ª Test All"
    //   ğŸ—„ï¸ DB:     "ğŸŒ¾ Yonca AI: ğŸ—„ï¸ DB Migrate" â€” Apply schema changes
    //   ğŸ“Š Observe: Langfuse (localhost:3001) â€” LLM tracing & observability
    //   ğŸ¨ Debug:  "ğŸŒ¾ Yonca AI: ğŸ¨ LangGraph Studio" â€” Visual agent flow debugging
    //
    // SERVICE EMOJIS:
    //   ğŸŒ¾ Yonca AI (main app)
    //   ğŸ³ Docker infrastructure
    //   ğŸ”´ Redis checkpointing
    //   ğŸ˜ PostgreSQL database
    //   ğŸ“Š Langfuse observability
    //   ğŸ¦™ Ollama LLM
    //   ğŸ¨ LangGraph Studio
    //
    // ARCHITECTURE:
    //   Local Dev:  ğŸ˜ Postgres (5433) + ğŸ¦™ Ollama + ğŸ”´ Redis â†’ Python API + Chainlit
    //   Production: Render.com (see render.yaml)
    //
    // DATABASE (Local):
    //   Host: localhost:5433 | User: yonca | Pass: yonca_dev_password
    //   Connection: postgresql+asyncpg://yonca:yonca_dev_password@localhost:5433/yonca
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "tasks": [
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ³ INFRASTRUCTURE (Docker Services)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ³ Docker Start",
            "detail": "Start ğŸ˜ Postgres + ğŸ¦™ Ollama + ğŸ”´ Redis + ğŸ“Š Langfuse",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "up", "-d", "postgres", "ollama", "redis", "langfuse-db", "langfuse-server"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ³ Docker Stop",
            "detail": "Stop all Docker containers",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "down"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ³ Docker Status",
            "detail": "Show container health",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "ps", "-a"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ³ Docker Logs",
            "detail": "Stream all container logs",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "logs", "-f", "--tail=100"],
            "options": { "cwd": "${workspaceFolder}" },
            "isBackground": true,
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "dedicated" }
        },
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ§¹ CACHE (Prevent stale bytecode issues)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ§¹ Clear Cache",
            "detail": "Remove __pycache__ folders (prevents stale .pyc issues)",
            "type": "shell",
            "command": "powershell",
            "args": [
                "-Command",
                "Get-ChildItem -Path '${workspaceFolder}' -Recurse -Directory -Filter '__pycache__' | Remove-Item -Recurse -Force -ErrorAction SilentlyContinue; Write-Host 'ğŸ§¹ Python cache cleared' -ForegroundColor Green"
            ],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "silent" }
        },
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸŒ¿ APPLICATION (Python Services)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸŒ¿ API Start",
            "detail": "FastAPI with hot reload (localhost:8000)",
            "dependsOn": ["ğŸŒ¾ Yonca AI: ğŸ§¹ Clear Cache"],
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": ["-m", "uvicorn", "yonca.api.main:app", "--host", "localhost", "--port", "8000", "--reload"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}/src",
                    "DATABASE_URL": "postgresql+asyncpg://yonca:yonca_dev_password@localhost:5433/yonca"
                }
            },
            "isBackground": true,
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "dedicated", "clear": true },
            "group": { "kind": "build", "isDefault": true }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ–¥ï¸ UI Start",
            "detail": "Chainlit Demo (localhost:8501)",
            "dependsOn": ["ğŸŒ¾ Yonca AI: ğŸ§¹ Clear Cache"],
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\chainlit.exe",
            "args": ["run", "app.py", "-w", "--port", "8501", "--headless"],
            "options": {
                "cwd": "${workspaceFolder}/demo-ui",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}/src;${workspaceFolder}/demo-ui",
                    "INTEGRATION_MODE": "direct",
                    "LLM_PROVIDER": "ollama",
                    "OLLAMA_BASE_URL": "http://localhost:11434",
                    "REDIS_URL": "redis://localhost:6379/0",
                    "DATABASE_URL": "postgresql+asyncpg://yonca:yonca_dev_password@localhost:5433/yonca",
                    "ENABLE_DATA_PERSISTENCE": "true"
                }
            },
            "isBackground": true,
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "dedicated", "clear": true }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ“– Open Swagger",
            "detail": "Open FastAPI docs in browser (localhost:8000/docs)",
            "type": "shell",
            "command": "Start-Process",
            "args": ["http://localhost:8000/docs"],
            "problemMatcher": [],
            "presentation": { "reveal": "silent" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ’¬ Open Chat UI",
            "detail": "Open Chainlit UI in browser (localhost:8501)",
            "type": "shell",
            "command": "Start-Process",
            "args": ["http://localhost:8501"],
            "problemMatcher": [],
            "presentation": { "reveal": "silent" }
        },
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ—„ï¸ DATABASE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ—„ï¸ DB Migrate",
            "detail": "Apply pending Alembic migrations",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\alembic.exe",
            "args": ["upgrade", "head"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}/src",
                    "DATABASE_URL": "postgresql+asyncpg://yonca:yonca_dev_password@localhost:5433/yonca"
                }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ—„ï¸ DB Seed",
            "detail": "Populate with synthetic farmer data",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": ["scripts/seed_database.py"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}/src",
                    "DATABASE_URL": "postgresql+asyncpg://yonca:yonca_dev_password@localhost:5433/yonca"
                }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ—„ï¸ DB New Migration",
            "detail": "Generate migration from model changes",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\alembic.exe",
            "args": ["revision", "--autogenerate", "-m", "${input:migrationMessage}"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}/src",
                    "DATABASE_URL": "postgresql+asyncpg://yonca:yonca_dev_password@localhost:5433/yonca"
                }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ§ª QUALITY (Tests & Linting)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ§ª Test All",
            "detail": "Run pytest with verbose output",
            "type": "shell",
            "command": "pytest",
            "args": ["tests/", "-v", "--tb=short"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": { "PYTHONPATH": "${workspaceFolder}/src" }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" },
            "group": "test"
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ” Lint",
            "detail": "Run ruff check",
            "type": "shell",
            "command": "ruff",
            "args": ["check", "src/", "tests/"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ¤– MODELS (One-time setup)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ¤– Models Setup",
            "detail": "Pull qwen3:4b + import ATLLaMA (run once after Docker Start)",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "--profile", "setup", "up", "model-setup"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "dedicated" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ¤– Models List",
            "detail": "Show available Ollama models",
            "type": "shell",
            "command": "docker",
            "args": ["exec", "yonca-ollama", "ollama", "list"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ¨ LANGGRAPH STUDIO (Agent Flow Debugging)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ¨ LangGraph Studio",
            "detail": "Open LangGraph Studio for agent debugging (requires langgraph-cli)",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\langgraph.exe",
            "args": ["dev"],
            "options": { 
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}/src",
                    "DATABASE_URL": "postgresql+asyncpg://yonca:yonca_dev_password@localhost:5433/yonca",
                    "REDIS_URL": "redis://localhost:6379/0",
                    "LLM_PROVIDER": "ollama",
                    "OLLAMA_BASE_URL": "http://localhost:11434"
                }
            },
            "isBackground": true,
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "dedicated", "clear": true }
        },
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ“Š OBSERVABILITY (Langfuse â€” LLM Tracing & Analytics)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ“Š Langfuse Start",
            "detail": "Start observability standalone (already in Docker Start)",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "up", "-d", "langfuse-server", "langfuse-db"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ“Š Langfuse Open",
            "detail": "Open Langfuse dashboard in browser",
            "type": "shell",
            "command": "Start-Process",
            "args": ["http://localhost:3001"],
            "problemMatcher": [],
            "presentation": { "reveal": "silent" }
        },
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸš€ WORKFLOWS (Compound Tasks)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸš€ Start All",
            "detail": "Stop â†’ Docker (incl. Langfuse) â†’ API + UI â†’ Open all dashboards",
            "dependsOn": ["ğŸŒ¾ Yonca AI: ğŸ›‘ Stop All", "ğŸŒ¾ Yonca AI: ğŸ³ Docker Start", "ğŸŒ¾ Yonca AI: ğŸš€ Start Apps"],
            "dependsOrder": "sequence",
            "problemMatcher": []
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸš€ Start Apps",
            "detail": "API + UI (parallel) - internal task",
            "dependsOn": ["ğŸŒ¾ Yonca AI: ğŸŒ¿ API Start", "ğŸŒ¾ Yonca AI: ğŸ–¥ï¸ UI Start", "ğŸŒ¾ Yonca AI: ğŸŒ Open All UIs"],
            "dependsOrder": "parallel",
            "problemMatcher": []
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸŒ Open All UIs",
            "detail": "Wait for startup then open Swagger â†’ Langfuse â†’ Chat UI",
            "type": "shell",
            "command": "powershell",
            "args": [
                "-Command",
                "Write-Host 'â³ Waiting for services to start...' -ForegroundColor Cyan; Start-Sleep -Seconds 8; Start-Process 'http://localhost:8000/docs'; Start-Process 'http://localhost:3001'; Start-Process 'http://localhost:8501'; Write-Host 'âœ… Swagger â†’ Langfuse â†’ Chat UI opened' -ForegroundColor Green"
            ],
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ›‘ Stop All",
            "detail": "Stop Docker + kill Python/Chainlit processes",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-ExecutionPolicy", "Bypass",
                "-File", "${workspaceFolder}/scripts/stop_all.ps1"
            ],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸŒ¾ Yonca AI: ğŸ”„ Restart All",
            "detail": "Stop â†’ Start (clean restart)",
            "dependsOn": ["ğŸŒ¾ Yonca AI: ğŸ›‘ Stop All", "ğŸŒ¾ Yonca AI: ğŸš€ Start All"],
            "dependsOrder": "sequence",
            "problemMatcher": []
        }
    ],
    "inputs": [
        {
            "id": "migrationMessage",
            "type": "promptString",
            "description": "Migration message (e.g., 'Add user settings')"
        }
    ]
}



