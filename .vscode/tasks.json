{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸš€ Start All",
      "detail": "Quality Checks â†’ Docker â†’ Services (Parallel)",
      "dependsOn": [
        "âœ… Quality & Sanity Checks",
        "ğŸŒ¿ ALÄ°M: ğŸ§¹ Clear Ports",
        "ğŸŒ¿ ALÄ°M: ğŸ§¹ Clear Logs",
        "ğŸŒ¿ ALÄ°M: ğŸ§¹ Clear Browser Cache",
        "ğŸŒ¿ ALÄ°M: ğŸ³ Docker Start",
        "ğŸŒ¿ ALÄ°M: ğŸš€ Start Python Services"
      ],
      "dependsOrder": "sequence",
      "problemMatcher": [],
      "runOptions": {
        "runOn": "default"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸš€ Start Python Services",
      "detail": "Start FastAPI, UI, MCP, and LangGraph in parallel",
      "dependsOn": [
        "ğŸŒ¿ ALÄ°M: âš¡ FastAPI Start",
        "ğŸŒ¿ ALÄ°M: ğŸ–¥ï¸ UI Start",
        "ğŸŒ¿ ALÄ°M: ğŸ§  ZekaLab MCP Start",
        "ğŸŒ¿ ALÄ°M: ğŸ¨ LangGraph Start"
      ],
      "dependsOrder": "parallel",
      "problemMatcher": []
    },
    {
      "label": "âœ… Quality & Sanity Checks",
      "detail": "Run lint + import + test checks before starting services",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/scripts/pre-start-checks.ps1"
      ],
      "isBackground": true,
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true,
        "group": "ALÄ°M-checks"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸ§¹ Clear Ports",
      "detail": "Kill existing processes to free ports",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/scripts/force_cleanup.ps1"
      ],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true,
        "group": "ALÄ°M-ops"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸ§¹ Clear Logs",
      "detail": "Delete application log files",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/scripts/clear_logs.ps1"
      ],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true,
        "group": "ALÄ°M-ops"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸ§¹ Clear Browser Cache",
      "detail": "Clear Chrome, Edge, and Brave caches",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/scripts/clear_browser_cache.ps1"
      ],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true,
        "group": "ALÄ°M-ops"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸ³ Docker Start",
      "detail": "Start Docker Infrastructure",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/scripts/start_service.ps1",
        "-Service",
        "Docker"
      ],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true,
        "group": "ALÄ°M-docker"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: âš¡ FastAPI Start",
      "detail": "Backend API (:8000)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/scripts/start_service.ps1",
        "-Service",
        "FastAPI"
      ],
      "isBackground": true,
      "problemMatcher": {
        "owner": "uvicorn",
        "pattern": {
          "regexp": "^ERROR.*",
          "message": 1
        },
        "background": {
          "activeOnStart": true,
          "beginsPattern": "^.*Uvicorn running.*",
          "endsPattern": "^.*Application startup complete.*"
        }
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "ALÄ°M-services"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸ–¥ï¸ UI Start",
      "detail": "Chainlit UI (:8501)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/scripts/start_service.ps1",
        "-Service",
        "UI"
      ],
      "isBackground": true,
      "problemMatcher": {
        "owner": "chainlit",
        "pattern": {
          "regexp": "^ERROR.*",
          "message": 1
        },
        "background": {
          "activeOnStart": true,
          "beginsPattern": "^.*(Your app is available|Listening on).*",
          "endsPattern": "^.*(Your app is available|Listening on).*"
        }
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "ALÄ°M-services"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸ§  ZekaLab MCP Start",
      "detail": "MCP Server (:7777)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/scripts/start_service.ps1",
        "-Service",
        "MCP"
      ],
      "isBackground": true,
      "problemMatcher": {
        "owner": "mcp",
        "pattern": {
          "regexp": "^ERROR.*",
          "message": 1
        },
        "background": {
          "activeOnStart": true,
          "beginsPattern": "^.*Uvicorn running.*",
          "endsPattern": "^.*Application startup complete.*"
        }
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "ALÄ°M-services"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸ¨ LangGraph Start",
      "detail": "LangGraph Dev Server (:2024)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-File",
        "${workspaceFolder}/scripts/start_service.ps1",
        "-Service",
        "LangGraph"
      ],
      "isBackground": true,
      "problemMatcher": {
        "owner": "langgraph",
        "pattern": {
          "regexp": "^ERROR.*",
          "message": 1
        },
        "background": {
          "activeOnStart": true,
          "beginsPattern": "^.*(Starting|Server started|Running).*",
          "endsPattern": "^.*(Server started|listening at).*"
        }
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "ALÄ°M-services"
      }
    },
    {
      "label": "ğŸŒ¿ ALÄ°M: ğŸ›‘ Stop All",
      "detail": "Stop all services",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-Command",
        "Write-Host 'ğŸ›‘ Stopping services...' -ForegroundColor Yellow; Get-Process -Name chainlit,langgraph,python -ErrorAction SilentlyContinue | Stop-Process -Force; docker-compose -f docker-compose.local.yml down; Write-Host 'âœ… Stopped' -ForegroundColor Green"
      ],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "ALÄ°M-ops"
      }
    }
  ],
  "inputs": []
}
