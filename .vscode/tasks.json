{
    "version": "2.0.0",
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // BRANDING & NAMING GUIDELINES (ZekaLab IP Protection)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // 
    // Product Name: YONCA AI â€” KÉ™nd TÉ™sÉ™rrÃ¼fatÄ± KÃ¶mÉ™kÃ§isi
    //               (YONCA AI â€” Agricultural Assistant)
    //
    // AVOID in user-facing UI:
    //   - "Sidecar" â€” This is internal architecture terminology
    //   - "DigiRella" / "Digital Umbrella" â€” Client name, not product name
    //   - "ZekaLab" â€” Our company, but product should stand alone
    //
    // USE in user-facing UI:
    //   - "Yonca" or "Yonca AI" â€” The product/agent name
    //   - "Sizin aÄŸÄ±llÄ± kÉ™nd tÉ™sÉ™rrÃ¼fatÄ± kÃ¶mÉ™kÃ§iniz" â€” Tagline
    //
    // Context: Developed by ZekaLab for DigiRella's Yonca mobile app.
    // ZekaLab retains IP ownership. This solution is designed to be
    // white-labeled and integrated into DigiRella's ecosystem via API.
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    "tasks": [
        // ================================================
        // ğŸ³ Docker Stack Management
        // ================================================
        {
            "label": "ğŸ³ Docker: Start All Services",
            "detail": "Start Ollama, Redis, and API containers",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "up", "-d"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ³ Docker: Stop All Services",
            "detail": "Stop and remove all containers",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "down"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ³ Docker: Start (Ollama + Redis only)",
            "detail": "Start just Ollama and Redis (for local Python dev)",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "up", "-d", "ollama", "redis"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ³ Docker: View Logs",
            "detail": "Follow logs from all containers",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "logs", "-f"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "isBackground": true,
            "presentation": { "reveal": "always", "panel": "dedicated" }
        },
        {
            "label": "ğŸ³ Docker: Container Status",
            "detail": "Show running containers and health",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "ps"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        // ================================================
        // ğŸ“Š Langfuse (Self-Hosted Observability)
        // ================================================
        {
            "label": "ğŸ“Š Langfuse: Start",
            "detail": "Start Langfuse server and database",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "up", "-d", "langfuse-server", "langfuse-db"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ“Š Langfuse: Open Dashboard",
            "detail": "Open Langfuse UI at http://localhost:3001",
            "type": "shell",
            "command": "Start-Process",
            "args": ["http://localhost:3001"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "silent", "panel": "shared" }
        },
        {
            "label": "ğŸ“Š Langfuse: View Logs",
            "detail": "Follow Langfuse container logs",
            "type": "shell",
            "command": "docker",
            "args": ["logs", "-f", "yonca-langfuse"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "isBackground": true,
            "presentation": { "reveal": "always", "panel": "dedicated" }
        },
        {
            "label": "ğŸ“Š Langfuse: Stop",
            "detail": "Stop Langfuse server and database",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "stop", "langfuse-server", "langfuse-db"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        // ================================================
        // ğŸ¤– LLM Model Management
        // ================================================
        {
            "label": "ğŸ¤– Models: First-Time Setup",
            "detail": "Pull qwen3:4b and import ATLLaMA (run once)",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "--profile", "setup", "up", "model-setup"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "dedicated" },
            "dependsOn": ["ğŸ³ Docker: Start (Ollama + Redis only)"]
        },
        {
            "label": "ğŸ¤– Models: List Available",
            "detail": "Show models in Ollama",
            "type": "shell",
            "command": "docker",
            "args": ["exec", "yonca-ollama", "ollama", "list"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ¤– Models: Test qwen3:4b",
            "detail": "Interactive chat with Qwen3",
            "type": "shell",
            "command": "docker",
            "args": ["exec", "-it", "yonca-ollama", "ollama", "run", "qwen3:4b"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "dedicated", "focus": true }
        },
        {
            "label": "ğŸ¤– Models: Test atllama",
            "detail": "Interactive chat with ATLLaMA (Azerbaijani)",
            "type": "shell",
            "command": "docker",
            "args": ["exec", "-it", "yonca-ollama", "ollama", "run", "atllama"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "dedicated", "focus": true }
        },
        // ================================================
        // ğŸŒ¿ Local Python Development
        // ================================================
        {
            "label": "ğŸŒ¿ Yonca API: Start Development Server",
            "detail": "Run API locally with hot reload",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": [
                "-m", "uvicorn",
                "yonca.api.main:app",
                "--host", "localhost",
                "--port", "8000",
                "--reload"
            ],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": { "PYTHONPATH": "${workspaceFolder}/src" }
            },
            "problemMatcher": [],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "dedicated",
                "showReuseMessage": false,
                "clear": true
            },
            "isBackground": true,
            "group": { "kind": "build", "isDefault": true }
        },
        {
            "label": "ğŸ§ª Yonca: Run Tests",
            "type": "shell",
            "command": "pytest",
            "args": ["tests/", "-v", "--tb=short"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": { "PYTHONPATH": "${workspaceFolder}/src" }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" },
            "group": "test"
        },
        {
            "label": "ğŸ” Yonca: Lint & Format Check",
            "type": "shell",
            "command": "ruff",
            "args": ["check", "src/", "tests/"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        // ================================================
        // ğŸ—„ï¸ Database Management
        // ================================================
        {
            "label": "ğŸ—„ï¸ Database: Run Migrations",
            "detail": "Apply pending Alembic migrations",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\alembic.exe",
            "args": ["upgrade", "head"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": { "PYTHONPATH": "${workspaceFolder}/src" }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ—„ï¸ Database: Seed Synthetic Data",
            "detail": "Populate database with 5 synthetic farmer profiles",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": ["scripts/seed_database.py"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": { "PYTHONPATH": "${workspaceFolder}/src" }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ—„ï¸ Database: Reset & Seed",
            "detail": "Drop all tables and reseed with fresh data",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe",
            "args": ["scripts/seed_database.py", "--reset"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": { "PYTHONPATH": "${workspaceFolder}/src" }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ—„ï¸ Database: Create Migration",
            "detail": "Generate new Alembic migration from model changes",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\alembic.exe",
            "args": ["revision", "--autogenerate", "-m", "${input:migrationMessage}"],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": { "PYTHONPATH": "${workspaceFolder}/src" }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        // ================================================
        // ğŸš€ Compound Tasks (Workflows)
        // ================================================
        {
            "label": "ğŸš€ Dev: Start Everything",
            "detail": "Start Docker services + local API server",
            "dependsOn": [
                "ğŸ³ Docker: Start (Ollama + Redis only)",
                "ğŸŒ¿ Yonca API: Start Development Server"
            ],
            "dependsOrder": "sequence",
            "problemMatcher": []
        },
        {
            "label": "ğŸ›‘ Dev: Stop Everything",
            "detail": "Stop Docker containers",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "down"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        // ================================================
        // ğŸ–¥ï¸ Demo UI (Chainlit)
        // ================================================
        {
            "label": "ğŸ–¥ï¸ Demo UI: Start Local (Python)",
            "detail": "Run Chainlit demo locally with hot reload (Direct LangGraph mode)",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\chainlit.exe",
            "args": ["run", "app.py", "-w", "--port", "8501"],
            "options": {
                "cwd": "${workspaceFolder}/demo-ui",
                "env": { 
                    "PYTHONPATH": "${workspaceFolder}/src;${workspaceFolder}/demo-ui",
                    "INTEGRATION_MODE": "direct",
                    "LLM_PROVIDER": "ollama",
                    "OLLAMA_BASE_URL": "http://localhost:11434",
                    "REDIS_URL": "redis://localhost:6379/0"
                }
            },
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "showReuseMessage": false,
                "clear": true
            },
            "isBackground": true
        },
        {
            "label": "ğŸ–¥ï¸ Demo UI: Start API Bridge Mode",
            "detail": "Run Chainlit via FastAPI (Production Pattern - like mobile app)",
            "type": "shell",
            "command": "${workspaceFolder}\\.venv\\Scripts\\chainlit.exe",
            "args": ["run", "app.py", "-w", "--port", "8501"],
            "options": {
                "cwd": "${workspaceFolder}/demo-ui",
                "env": { 
                    "PYTHONPATH": "${workspaceFolder}/src;${workspaceFolder}/demo-ui",
                    "INTEGRATION_MODE": "api",
                    "YONCA_API_URL": "http://localhost:8000",
                    "REDIS_URL": "redis://localhost:6379/0"
                }
            },
            "problemMatcher": [],
            "presentation": {
                "reveal": "always",
                "panel": "dedicated",
                "showReuseMessage": false,
                "clear": true
            },
            "isBackground": true
        },
        {
            "label": "ğŸ–¥ï¸ Demo UI: Start Docker",
            "detail": "Run Chainlit demo in Docker container",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "--profile", "demo", "up", "-d", "demo-ui"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ–¥ï¸ Demo UI: Stop Docker",
            "detail": "Stop Demo UI container",
            "type": "shell",
            "command": "docker-compose",
            "args": ["-f", "docker-compose.local.yml", "--profile", "demo", "stop", "demo-ui"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ–¥ï¸ Demo UI: View Logs",
            "detail": "Follow demo-ui container logs",
            "type": "shell",
            "command": "docker",
            "args": ["logs", "-f", "yonca-demo-ui"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "isBackground": true,
            "presentation": { "reveal": "always", "panel": "dedicated" }
        },
        {
            "label": "ğŸš€ Dev: Full Stack with Demo UI",
            "detail": "Start Docker + API + Demo UI (Direct mode)",
            "dependsOn": [
                "ğŸ³ Docker: Start (Ollama + Redis only)",
                "ğŸŒ¿ Yonca API: Start Development Server",
                "ğŸ–¥ï¸ Demo UI: Start Local (Python)"
            ],
            "dependsOrder": "sequence",
            "problemMatcher": []
        },
        {
            "label": "ğŸ† Demo: Gold Standard (API Bridge)",
            "detail": "Full 3-tier architecture: Chainlit â†’ FastAPI â†’ LangGraph",
            "dependsOn": [
                "ğŸ³ Docker: Start (Ollama + Redis only)",
                "ğŸŒ¿ Yonca API: Start Development Server",
                "ğŸ–¥ï¸ Demo UI: Start API Bridge Mode"
            ],
            "dependsOrder": "sequence",
            "problemMatcher": []
        },
        // ================================================
        // ğŸ”¥ ALMIGHTY TASKS (One-Click Everything)
        // ================================================
        {
            "label": "ğŸ©º Health: Check All Services",
            "detail": "Verify Docker, Ollama, Redis, API, and UI health",
            "type": "shell",
            "command": "powershell",
            "args": ["-ExecutionPolicy", "Bypass", "-File", "${workspaceFolder}/scripts/health_check.ps1"],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        },
        {
            "label": "ğŸ”¥ Yonca: Start Everything (Smart)",
            "detail": "Starts Docker â†’ API â†’ UI with health checks",
            "type": "shell",
            "command": "powershell",
            "args": [
                "-ExecutionPolicy", "Bypass", "-Command",
                "Write-Host 'ğŸŒ¿ YONCA AI â€” Starting All Services' -ForegroundColor Green; Write-Host ''; docker-compose -f docker-compose.local.yml up -d ollama redis; Write-Host 'â³ Waiting for Docker services...'; Start-Sleep -Seconds 5; $attempt = 0; while ($attempt -lt 12) { try { $r = Invoke-RestMethod 'http://localhost:11434/api/tags' -TimeoutSec 2; Write-Host 'âœ… Ollama ready'; break } catch { $attempt++; Start-Sleep 5 } }; Write-Host 'ğŸš€ Starting FastAPI...'; Start-Process -FilePath '${workspaceFolder}\\.venv\\Scripts\\python.exe' -ArgumentList '-m', 'uvicorn', 'yonca.api.main:app', '--host', 'localhost', '--port', '8000', '--reload' -WorkingDirectory '${workspaceFolder}' -WindowStyle Hidden; Start-Sleep 3; Write-Host 'ğŸ–¥ï¸ Starting Chainlit UI...'; Start-Process -FilePath '${workspaceFolder}\\.venv\\Scripts\\chainlit.exe' -ArgumentList 'run', 'app.py', '-w', '--port', '8501' -WorkingDirectory '${workspaceFolder}\\demo-ui' -WindowStyle Hidden; Start-Sleep 3; Write-Host ''; Write-Host 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' -ForegroundColor Cyan; Write-Host 'âœ… YONCA AI is running!' -ForegroundColor Green; Write-Host '   ğŸ“ API:  http://localhost:8000/docs' -ForegroundColor White; Write-Host '   ğŸ–¥ï¸ UI:   http://localhost:8501' -ForegroundColor White; Write-Host 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' -ForegroundColor Cyan; Start-Process 'http://localhost:8501'"
            ],
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}/src;${workspaceFolder}/demo-ui",
                    "INTEGRATION_MODE": "direct",
                    "LLM_PROVIDER": "ollama",
                    "OLLAMA_BASE_URL": "http://localhost:11434",
                    "REDIS_URL": "redis://localhost:6379/0"
                }
            },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "dedicated", "clear": true }
        },
        {
            "label": "ğŸ›‘ Yonca: Stop Everything",
            "detail": "Stop all services (Docker, API, UI)",
            "type": "shell",
            "command": "powershell",
            "args": [
                "-ExecutionPolicy", "Bypass", "-Command",
                "Write-Host 'ğŸ›‘ Stopping Yonca AI services...' -ForegroundColor Yellow; Get-Process -Name python -ErrorAction SilentlyContinue | Where-Object { $_.Path -like '*yonja*' } | Stop-Process -Force -ErrorAction SilentlyContinue; Get-Process -Name chainlit -ErrorAction SilentlyContinue | Stop-Process -Force -ErrorAction SilentlyContinue; docker-compose -f docker-compose.local.yml down; Write-Host 'âœ… All services stopped' -ForegroundColor Green"
            ],
            "options": { "cwd": "${workspaceFolder}" },
            "problemMatcher": [],
            "presentation": { "reveal": "always", "panel": "shared" }
        }
    ],
    "inputs": [
        {
            "id": "migrationMessage",
            "type": "promptString",
            "description": "Enter migration message (e.g., 'Add user settings table')"
        }
    ]
}
